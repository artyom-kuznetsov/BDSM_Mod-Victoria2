
##### CHEMICAL ATTACK CAPABILITY #####

country_event = {
	id = 141305
	title = "ChemAttack_rproj_EvtName" 
	desc = 	"ChemAttack_rproj_EvtDesc"
	picture = "Invention"
	
	is_triggered_only = yes
	
	immediate = {
		random_owned = {
			limit = {
				owner = {
					has_country_flag = chemical_weapons_research_project_cflag
					NOT = { invention = gas_attack_capability }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_IN_PROGRESS = { }
			}
		}
		random_owned = {
			limit = {
				owner = {
					invention = gas_attack_capability
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_DONE = { }
			}
		}
		random_owned = {
			limit = {
				owner = {
					NOT = { invention = gas_attack_capability has_country_flag = chemical_weapons_research_project_cflag }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_NOT_DONE = { }
			}
		}
	}
	
	option = {
		name = "Generic_rproj_EvtOptStartResearch"
		
		
		# ALREADY RESEARCHED
		random_owned = {
			limit = {
				owner = { 
					invention = gas_attack_capability
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_RESEARCHED = { }
			}
		}
		random_owned = {
			limit = {
				owner = { 
					NOT = {
						electricity = 1
					}
				}
			}
			owner = {
				CUSTOM_TOOLTIP_MISSING_TECH_ELECTRICITY = { }
			}
		}
		random_owned = {
			limit = {
				owner = { 
					NOT = {
						shift_work = 1
					}
				}
			}
			owner = {
				CUSTOM_TOOLTIP_MISSING_TECH_SHIFT_WORK = { }
			}
		}
		# START RESEARCH
		random_owned = {
			limit = {
				owner = { 
					money = 4000000
					NOT = { 
						has_country_modifier = research_project_cooldown 
						invention = gas_attack_capability 
					}
					electricity = 1
					shift_work = 1
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_COST_4M = { }
				# Audax Validator "." Ignore_NEXT
				money = -1000000
				# Audax Validator "." Ignore_NEXT
				money = -1000000
				# Audax Validator "." Ignore_NEXT
				money = -1000000
				# Audax Validator "." Ignore_NEXT
				money = -1000000
				add_country_modifier = { name = research_project_cooldown duration = 3650 }
				
				add_country_modifier = { name = gas_attack_research_project_cmodifier duration = 1085 }
				set_country_flag = chemical_weapons_research_project_cflag
			}
		}
		# ON COOLDOWN ERROR
		random_owned = {
			limit = {
				owner = { 
					NOT = { invention = gas_attack_capability }
					has_country_modifier = research_project_cooldown
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_COOLDOWN = { }
			}
		}
		# NO MONEY
		random_owned = {
			limit = {
				owner = { 
					NOT = { money = 4000000 invention = gas_attack_capability }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_COST_4M = { }
				CUSTOM_TOOLTIP_DONTHAVEMONEY = { }
			}
		}
		country_event = { id = 141305 days = 0 }
	}
	
	option = {
		name = "Generic_rproj_EvtOptStartStopSelling"
		
		# NOT RESEARCHED ERROR
		random_owned = {
			limit = {
				owner = { 
					NOT = { invention = gas_attack_capability }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_NOT_RESEARCHED_ERROR = { }
			}
		}
		# START SELLING
		random_owned = {
			limit = {
				owner = { 
					invention = gas_attack_capability
					has_country_flag = gas_attack_selling_cflag
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_IS_SELLING = { }
				clr_country_flag = gas_attack_selling_cflag
			}
		}
		# STOP SELLING
		random_owned = {
			limit = {
				owner = { 
					invention = gas_attack_capability
					NOT = { has_country_flag = gas_attack_selling_cflag }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_IS_NOT_SELLING = { }
				set_country_flag = gas_attack_selling_cflag
			}
		}
		country_event = { id = 141305 days = 0 }
	}
	
	option = {
		name = "Generic_rproj_EvtOptBuyRequest"
		
		# RESEARCHED ERROR
		random_owned = {
			limit = {
				owner = { 
					invention = gas_attack_capability
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_RESEARCHED = { }
			}
		}
		# REQUEST
		random_owned = {
			limit = {
				owner = { 
					NOT = { invention = gas_attack_capability }
				}
			}
			owner = {
				any_country = {
					limit = {
						ai = no
						has_country_flag = gas_attack_selling_cflag
					}
					country_event = 141307
				}
				add_country_modifier = { name = research_menu_cooldown_cmodifier duration = 31 }
			}
		}
	}
	
	option = {
		name = "Expedition_Menu_EvtOptCancel"
	}
}

country_event = {
	id = 141306
	title = "Chemical_Weapons_rproj_EvtName"
	desc = 	"Chemical_Weapons_Done_rproj_EvtDesc"
	picture = "Invention"
	
	trigger = {
		NOT = { 
			invention = gas_attack_capability
			has_country_modifier = gas_attack_research_project_cmodifier
			has_country_flag = chemical_weapons_researched_cflag
		}
		has_country_flag = chemical_weapons_research_project_cflag
	}
	
	
	option = {
		name = "rproj_EvtOptResearchDone"
		prestige = 10
		years_of_research = 0.1
		
		set_country_flag = chemical_weapons_researched_cflag
	}
}

country_event = {
	id = 141307
	title = "BuyRequest_rproj_EvtName"
	desc = 	"SyntheticPolymersBuyRequest_rproj_EvtDesc"
	picture = "Invention"
	
	is_triggered_only = yes
	
	
	option = {
		name = "rproj_BuyRequest_EvtOptDeny"
	}
	option = {
		name = "rproj_BuyRequest_EvtOptAccept"
		
		FROM = {
			country_event = 141308
		}
		add_country_modifier = { name = administrative_expenses2_modifier duration = 183 }
	}
}

country_event = {
	id = 141308
	title = "SyntheticPolymersBuyRequest_rproj_EvtName"
	desc = 	"SyntheticPolymersBuyRequestAccepted_rproj_EvtDesc"
	picture = "Invention"
	
	is_triggered_only = yes
	
	option = {
		name = "rproj_BuyRequest_EvtOptA"
		add_country_modifier = { name = research_menu_cooldown_cmodifier duration = 31 }
		add_country_modifier = { name = administrative_expenses2_modifier duration = 183 }
		
		set_country_flag = chemical_weapons_researched_cflag
	}
}
