
country_event = {
	id = 141300
	title = "ResearchProject_Menu_EvtName"
	desc = "ResearchProject_Menu_EvtDesc"
	picture = "Invention"
	
	allow_multiple_instances = yes

	is_triggered_only = yes


	option = {
		name = "ResearchProject_Menu_EvtOptSyntheticPolymers"
		
		country_event = 141301
	}

	option = {
		name = "ResearchProject_Menu_EvtOptChemicalWeapons"
		
		country_event = 141305
	}
	
	option = {
		name = "ResearchProject_Menu_EvtOptChemicalDefence"
		
		country_event = 141311
	}
	
	option = {
		name = "Expedition_Menu_EvtOptCancel"
	}
}

##### SYNTHETIC POLYMERS GOOOOL #####

country_event = {
	id = 141301
	title = "SyntheticPolymers_rproj_EvtName"
	desc = 	"SyntheticPolymers_rproj_EvtDesc"
	picture = "Invention"
	
	is_triggered_only = yes
	
	immediate = {
		random_owned = {
			limit = {
				owner = {
					has_country_flag = synthetic_polymers_research_project_cflag
					NOT = { invention = synthetic_polymers_research_project }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_IN_PROGRESS = { }
			}
		}
		random_owned = {
			limit = {
				owner = {
					invention = synthetic_polymers_research_project
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_DONE = { }
			}
		}
		random_owned = {
			limit = {
				owner = {
					NOT = { invention = synthetic_polymers_research_project has_country_flag = synthetic_polymers_research_project_cflag }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_NOT_DONE = { }
			}
		}
	}
	
	option = {
		name = "Generic_rproj_EvtOptStartResearch"
		
		
		# ALREADY RESEARCHED
		random_owned = {
			limit = {
				owner = { 
					invention = synthetic_polymers_research_project
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_RESEARCHED = { }
			}
		}
		# START RESEARCH
		random_owned = {
			limit = {
				owner = { 
					money = 2000000
					synthetic_polymers = 1
					NOT = { 
						has_country_modifier = research_project_cooldown 
						invention = synthetic_polymers_research_project 
					}
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_COST_2M = { }
				# Audax Validator "." Ignore_NEXT
				money = -1000000
				# Audax Validator "." Ignore_NEXT
				money = -1000000
				add_country_modifier = { name = research_project_cooldown duration = 3650 }
				
				add_country_modifier = { name = synthetic_polymers_research_project_cmodifier duration = 1085 }
				set_country_flag = synthetic_polymers_research_project_cflag
			}
		}
		random_owned = {
			limit = {
				owner = {
					NOT = { synthetic_polymers = 1 }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_MISSING_TECH_SYNTHETIC_POLYMERS = { }
			}
		}
		# ON COOLDOWN ERROR
		random_owned = {
			limit = {
				owner = { 
					NOT = { invention = synthetic_polymers_research_project }
					has_country_modifier = research_project_cooldown
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_COOLDOWN = { }
			}
		}
		# NO MONEY
		random_owned = {
			limit = {
				owner = { 
					NOT = { money = 2000000 invention = synthetic_polymers_research_project }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_COST_2M = { }
				CUSTOM_TOOLTIP_DONTHAVEMONEY = { }
			}
		}
		country_event = { id = 141301 days = 0 }
	}
	
	option = {
		name = "Generic_rproj_EvtOptStartStopSelling"
		
		# NOT RESEARCHED ERROR
		random_owned = {
			limit = {
				owner = { 
					NOT = { invention = synthetic_polymers_research_project }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_NOT_RESEARCHED_ERROR = { }
			}
		}
		# START SELLING
		random_owned = {
			limit = {
				owner = { 
					invention = synthetic_polymers_research_project
					has_country_flag = synthetic_polymers_selling_cflag
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_IS_SELLING = { }
				clr_country_flag = synthetic_polymers_selling_cflag
			}
		}
		# STOP SELLING
		random_owned = {
			limit = {
				owner = { 
					invention = synthetic_polymers_research_project
					NOT = { has_country_flag = synthetic_polymers_selling_cflag }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_IS_NOT_SELLING = { }
				set_country_flag = synthetic_polymers_selling_cflag
			}
		}
		country_event = { id = 141301 days = 0 }
	}
	
	option = {
		name = "Generic_rproj_EvtOptBuyRequest"
		
		# RESEARCHED ERROR
		random_owned = {
			limit = {
				owner = { 
					invention = synthetic_polymers_research_project
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_RESEARCHED = { }
			}
		}
		# REQUEST
		random_owned = {
			limit = {
				owner = { 
					NOT = { invention = synthetic_polymers_research_project }
				}
			}
			owner = {
				any_country = {
					limit = {
						ai = no
						has_country_flag = synthetic_polymers_selling_cflag
					}
					country_event = 141303
				}
				add_country_modifier = { name = research_menu_cooldown_cmodifier duration = 31 }
			}
		}
	}
	
	option = {
		name = "Expedition_Menu_EvtOptCancel"
	}
}

country_event = {
	id = 141302
	title = "SyntheticPolymers_rproj_EvtName"
	desc = 	"SyntheticPolymersDone_rproj_EvtDesc"
	picture = "Invention"
	
	trigger = {
		NOT = { 
			invention = synthetic_polymers_research_project
			has_country_modifier = synthetic_polymers_research_project_cmodifier
			has_country_flag = synthetic_polymers_researched_cflag
		}
		has_country_flag = synthetic_polymers_research_project_cflag
	}
	
	immediate = {
		# NOTIFICATION
		any_country = {
			limit = {
				ai = no
			}
			country_event = { id = 57626 days = 7 }
		}
	}
	
	
	option = {
		name = "rproj_EvtOptResearchDone"
		prestige = 10
		years_of_research = 0.1
		
		set_country_flag = synthetic_polymers_researched_cflag
	}
}

country_event = {
	id = 141309
	title = "SyntheticPolymers_rproj_EvtName"
	desc = 	"SyntheticPolymersDone_rproj_EvtDesc"
	picture = "Invention"
	
	immediate = {
		# NOTIFICATION
		any_country = {
			limit = {
				ai = no
			}
			country_event = { id = 57626 days = 7 }
		}
	}
	
	is_triggered_only = yes
	
	
	option = {
		name = "rproj_EvtOptResearchDone"
		
		set_country_flag = synthetic_polymers_researched_cflag
	}
}

country_event = {
	id = 141303
	title = "BuyRequest_rproj_EvtName"
	desc = 	"SyntheticPolymersBuyRequest_rproj_EvtDesc"
	picture = "Invention"
	
	is_triggered_only = yes
	
	
	option = {
		name = "rproj_BuyRequest_EvtOptDeny"
	}
	option = {
		name = "rproj_BuyRequest_EvtOptAccept"
		
		FROM = {
			country_event = 141304
		}
		add_country_modifier = { name = administrative_expenses_modifier duration = 183 }
	}
}

country_event = {
	id = 141304
	title = "SyntheticPolymersBuyRequest_rproj_EvtName"
	desc = 	"SyntheticPolymersBuyRequestAccepted_rproj_EvtDesc"
	picture = "Invention"
	
	is_triggered_only = yes
	
	option = {
		name = "rproj_BuyRequest_EvtOptA"
		add_country_modifier = { name = research_menu_cooldown_cmodifier duration = 31 }
		add_country_modifier = { name = administrative_expenses_modifier duration = 183 }
		
		country_event = { id = 141309 days = 30 }
	}
}

##### CHEMICAL ATTACK CAPABILITY #####

country_event = {
	id = 141305
	title = "ChemAttack_rproj_EvtName" 
	desc = 	"ChemAttack_rproj_EvtDesc"
	picture = "Invention"
	
	is_triggered_only = yes
	
	immediate = {
		random_owned = {
			limit = {
				owner = {
					has_country_flag = chemical_weapons_research_project_cflag
					NOT = { invention = gas_attack_capability }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_IN_PROGRESS = { }
			}
		}
		random_owned = {
			limit = {
				owner = {
					invention = gas_attack_capability
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_DONE = { }
			}
		}
		random_owned = {
			limit = {
				owner = {
					NOT = { invention = gas_attack_capability has_country_flag = chemical_weapons_research_project_cflag }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_NOT_DONE = { }
			}
		}
	}
	
	option = {
		name = "Generic_rproj_EvtOptStartResearch"
		
		# MISSING TECH
		random_owned = {
			limit = {
				owner = {
					NOT = { chemical_weapons = 1 }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_MISSING_TECH_CHEMICAL_WEAPONS = { }
			}
		}
		# ALREADY RESEARCHED
		random_owned = {
			limit = {
				owner = { 
					invention = gas_attack_capability
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_RESEARCHED = { }
			}
		}
		random_owned = {
			limit = {
				owner = { 
					NOT = {
						electricity = 1
					}
				}
			}
			owner = {
				CUSTOM_TOOLTIP_MISSING_TECH_ELECTRICITY = { }
			}
		}
		random_owned = {
			limit = {
				owner = { 
					NOT = {
						shift_work = 1
					}
				}
			}
			owner = {
				CUSTOM_TOOLTIP_MISSING_TECH_SHIFT_WORK = { }
			}
		}
		# START RESEARCH
		random_owned = {
			limit = {
				owner = { 
					money = 4000000
					NOT = { 
						has_country_modifier = research_project_cooldown 
						invention = gas_attack_capability 
					}
					electricity = 1
					shift_work = 1
					chemical_weapons = 1
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_COST_4M = { }
				# Audax Validator "." Ignore_NEXT
				money = -1000000
				# Audax Validator "." Ignore_NEXT
				money = -1000000
				# Audax Validator "." Ignore_NEXT
				money = -1000000
				# Audax Validator "." Ignore_NEXT
				money = -1000000
				add_country_modifier = { name = research_project_cooldown duration = 3650 }
				
				add_country_modifier = { name = gas_attack_research_project_cmodifier duration = 365 }
				set_country_flag = chemical_weapons_research_project_cflag
			}
		}
		# ON COOLDOWN ERROR
		random_owned = {
			limit = {
				owner = { 
					NOT = { invention = gas_attack_capability }
					has_country_modifier = research_project_cooldown
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_COOLDOWN = { }
			}
		}
		# NO MONEY
		random_owned = {
			limit = {
				owner = { 
					NOT = { money = 4000000 invention = gas_attack_capability }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_COST_4M = { }
				CUSTOM_TOOLTIP_DONTHAVEMONEY = { }
			}
		}
		country_event = { id = 141305 days = 0 }
	}
	
	option = {
		name = "Generic_rproj_EvtOptStartStopSelling"
		
		# NOT RESEARCHED ERROR
		random_owned = {
			limit = {
				owner = { 
					NOT = { invention = gas_attack_capability }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_NOT_RESEARCHED_ERROR = { }
			}
		}
		# START SELLING
		random_owned = {
			limit = {
				owner = { 
					invention = gas_attack_capability
					has_country_flag = gas_attack_selling_cflag
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_IS_SELLING = { }
				clr_country_flag = gas_attack_selling_cflag
			}
		}
		# STOP SELLING
		random_owned = {
			limit = {
				owner = { 
					invention = gas_attack_capability
					NOT = { has_country_flag = gas_attack_selling_cflag }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_IS_NOT_SELLING = { }
				set_country_flag = gas_attack_selling_cflag
			}
		}
		country_event = { id = 141305 days = 0 }
	}
	
	option = {
		name = "Generic_rproj_EvtOptBuyRequest"
		
		# RESEARCHED ERROR
		random_owned = {
			limit = {
				owner = { 
					invention = gas_attack_capability
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_RESEARCHED = { }
			}
		}
		# REQUEST
		random_owned = {
			limit = {
				owner = { 
					NOT = { invention = gas_attack_capability }
				}
			}
			owner = {
				any_country = {
					limit = {
						ai = no
						has_country_flag = gas_attack_selling_cflag
					}
					country_event = 141307
				}
				add_country_modifier = { name = research_menu_cooldown_cmodifier duration = 31 }
			}
		}
	}
	
	option = {
		name = "Expedition_Menu_EvtOptCancel"
	}
}

country_event = {
	id = 141306
	title = "Chemical_Weapons_rproj_EvtName"
	desc = 	"Chemical_Weapons_Done_rproj_EvtDesc"
	picture = "Invention"
	
	trigger = {
		NOT = { 
			invention = gas_attack_capability
			has_country_modifier = gas_attack_research_project_cmodifier
			has_country_flag = chemical_weapons_researched_cflag
		}
		has_country_flag = chemical_weapons_research_project_cflag
	}
	
	immediate = {
		# NOTIFICATION
		any_country = {
			limit = {
				ai = no
			}
			country_event = { id = 57626 days = 7 }
		}
	}
	
	option = {
		name = "rproj_EvtOptResearchDone"
		prestige = 10
		years_of_research = 0.1
		
		set_country_flag = chemical_weapons_researched_cflag
	}
}

country_event = {
	id = 141307
	title = "BuyRequest_rproj_EvtName"
	desc = 	"GasAttackBuyRequest_rproj_EvtDesc"
	picture = "Invention"
	
	is_triggered_only = yes
	
	
	option = {
		name = "rproj_BuyRequest_EvtOptDeny"
	}
	option = {
		name = "rproj_BuyRequest_EvtOptAccept"
		
		FROM = {
			country_event = 141308
		}
		add_country_modifier = { name = administrative_expenses2_modifier duration = 183 }
	}
}

country_event = {
	id = 141308
	title = "GasAttackBuyRequest_rproj_EvtName"
	desc = 	"GasAttackBuyRequestAccepted_rproj_EvtDesc"
	picture = "Invention"
	
	is_triggered_only = yes
	
	option = {
		name = "rproj_BuyRequest_EvtOptA"
		add_country_modifier = { name = research_menu_cooldown_cmodifier duration = 31 }
		add_country_modifier = { name = administrative_expenses2_modifier duration = 183 }
		
		country_event = { id = 141310 days = 30 }
	}
}

country_event = {
	id = 141310
	title = "Chemical_Weapons_rproj_EvtName"
	desc = 	"Chemical_Weapons_Done_rproj_EvtDesc"
	picture = "Invention"
	
	is_triggered_only = yes
	
	immediate = {
		# NOTIFICATION
		any_country = {
			limit = {
				ai = no
			}
			country_event = { id = 57627 days = 7 }
		}
	}
	
	option = {
		name = "rproj_EvtOptResearchDone"
		
		set_country_flag = chemical_weapons_researched_cflag
	}
}

##### CHEMICAL DEFENCE CAPABILITY #####

country_event = {
	id = 141311
	title = "ChemDefence_rproj_EvtName" 
	desc = 	"Generic_rproj_EvtDesc"
	picture = "Invention"
	
	is_triggered_only = yes
	
	immediate = {
		random_owned = {
			limit = {
				owner = {
					has_country_flag = chemical_defence_research_project_cflag
					NOT = { invention = gas_defense_capability }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_IN_PROGRESS = { }
			}
		}
		random_owned = {
			limit = {
				owner = {
					invention = gas_defense_capability
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_DONE = { }
			}
		}
		random_owned = {
			limit = {
				owner = {
					NOT = { invention = gas_defense_capability has_country_flag = chemical_defence_research_project_cflag }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_NOT_DONE = { }
			}
		}
	}
	
	option = {
		name = "Generic_rproj_EvtOptStartResearch"
		
		
		# MISSING TECH
		random_owned = {
			limit = {
				owner = {
					NOT = { chemical_weapons = 1 }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_MISSING_TECH_CHEMICAL_WEAPONS = { }
			}
		}
		# ALREADY RESEARCHED
		random_owned = {
			limit = {
				owner = { 
					invention = gas_defense_capability
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_RESEARCHED = { }
			}
		}
		random_owned = {
			limit = {
				owner = { 
					NOT = {
						infiltration = 1
					}
				}
			}
			owner = {
				CUSTOM_TOOLTIP_MISSING_TECH_INFILTRATION = { }
			}
		}
		# START RESEARCH
		random_owned = {
			limit = {
				owner = { 
					money = 1000000
					NOT = { 
						has_country_modifier = research_project_cooldown 
						invention = gas_defense_capability 
					}
					infiltration = 1
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_COST_1M = { }
				# Audax Validator "." Ignore_NEXT
				money = -1000000
				add_country_modifier = { name = research_project_cooldown duration = 3650 }
				
				add_country_modifier = { name = gas_defence_research_project_cmodifier duration = 187 }
				set_country_flag = chemical_defence_research_project_cflag
			}
		}
		# ON COOLDOWN ERROR
		random_owned = {
			limit = {
				owner = { 
					NOT = { invention = gas_defense_capability }
					has_country_modifier = research_project_cooldown
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_COOLDOWN = { }
			}
		}
		# NO MONEY
		random_owned = {
			limit = {
				owner = { 
					NOT = { money = 1000000 invention = gas_defense_capability }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_COST_1M = { }
				CUSTOM_TOOLTIP_DONTHAVEMONEY = { }
			}
		}
		country_event = { id = 141311 days = 0 }
	}
	
	option = {
		name = "Generic_rproj_EvtOptStartStopSelling"
		
		# NOT RESEARCHED ERROR
		random_owned = {
			limit = {
				owner = { 
					NOT = { invention = gas_defense_capability }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_NOT_RESEARCHED_ERROR = { }
			}
		}
		# START SELLING
		random_owned = {
			limit = {
				owner = { 
					invention = gas_defense_capability
					has_country_flag = gasmask_selling_cflag
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_IS_SELLING = { }
				clr_country_flag = gasmask_selling_cflag
			}
		}
		# STOP SELLING
		random_owned = {
			limit = {
				owner = { 
					invention = gas_defense_capability
					NOT = { has_country_flag = gasmask_selling_cflag }
				}
			}
			owner = {
				CUSTOM_TOOLTIP_RPROJ_IS_NOT_SELLING = { }
				set_country_flag = gasmask_selling_cflag
			}
		}
		country_event = { id = 141311 days = 0 }
	}
	
	option = {
		name = "Generic_rproj_EvtOptBuyRequest"
		
		# RESEARCHED ERROR
		random_owned = {
			limit = {
				owner = { 
					invention = gas_defense_capability
				}
			}
			owner = {
				CUSTOM_TOOLTIP_PROJECT_RESEARCHED = { }
			}
		}
		# REQUEST
		random_owned = {
			limit = {
				owner = { 
					NOT = { invention = gas_defense_capability }
				}
			}
			owner = {
				any_country = {
					limit = {
						ai = no
						has_country_flag = gasmask_selling_cflag
					}
					country_event = 141313
				}
				add_country_modifier = { name = research_menu_cooldown_cmodifier duration = 31 }
			}
		}
	}
	
	option = {
		name = "Expedition_Menu_EvtOptCancel"
	}
}

country_event = {
	id = 141312
	title = "Chemical_Defence_rproj_EvtName"
	desc = 	"Chemical_Defence_Done_rproj_EvtDesc"
	picture = "Invention"
	
	trigger = {
		NOT = { 
			invention = gas_defense_capability
			has_country_modifier = gas_defence_research_project_cmodifier
			has_country_flag = chemical_defence_researched_cflag
		}
		has_country_flag = chemical_defence_research_project_cflag
	}
	
	immediate = {
		# NOTIFICATION
		any_country = {
			limit = {
				ai = no
			}
			country_event = { id = 57627 days = 7 }
		}
	}
	
	option = {
		name = "rproj_EvtOptResearchDone"
		prestige = 10
		years_of_research = 0.1
		
		set_country_flag = chemical_defence_researched_cflag
	}
}

country_event = {
	id = 141313
	title = "BuyRequest_rproj_EvtName"
	desc = 	"GasDefenceBuyRequest_rproj_EvtDesc"
	picture = "Invention"
	
	is_triggered_only = yes
	
	
	option = {
		name = "rproj_BuyRequest_EvtOptDeny"
	}
	option = {
		name = "rproj_BuyRequest_EvtOptAccept"
		
		FROM = {
			country_event = 141314
		}
		add_country_modifier = { name = administrative_expenses2_modifier duration = 183 }
	}
}

country_event = {
	id = 141314
	title = "GasDefenceBuyRequest_rproj_EvtName"
	desc = 	"GasDefenceBuyRequestAccepted_rproj_EvtDesc"
	picture = "Invention"
	
	is_triggered_only = yes
	
	option = {
		name = "rproj_BuyRequest_EvtOptA"
		add_country_modifier = { name = research_menu_cooldown_cmodifier duration = 31 }
		add_country_modifier = { name = administrative_expenses2_modifier duration = 183 }
		
		country_event = { id = 141315 days = 30 }
	}
}

country_event = {
	id = 141315
	title = "Chemical_Defence_rproj_EvtName"
	desc = 	"Chemical_Defence_Done_rproj_EvtDesc"
	picture = "Invention"
	
	is_triggered_only = yes
	
	immediate = {
		# NOTIFICATION
		any_country = {
			limit = {
				ai = no
			}
			country_event = { id = 57627 days = 7 }
		}
	}
	
	option = {
		name = "rproj_EvtOptResearchDone"
		
		set_country_flag = chemical_defence_researched_cflag
	}
}
