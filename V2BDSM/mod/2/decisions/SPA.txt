political_decisions = {
	form_iberian_union_dec = {
		potential = {
			NOT = { has_country_flag = hide_all_decs_flag }
			is_culture_group = iberian
			IBE = { exists = no }
		}
		
		allow = {
			IBE = { all_core = { OR = { owned_by = THIS owner = { in_sphere = THIS } owner = { vassal_of = THIS } } } }
			citizens_rights = all_voting_pops
			nationalism_n_imperialism = 1
		}
		
		effect = {
			plurality = 5
			add_accepted_culture = portuguese
			add_accepted_culture = spanish
			change_tag = IBE
			prestige = 5
			CUSTOM_TOOLTIP_SPA_CARRACK = { }
			set_country_flag = has_spanish_carrack_flag
			503 = {
				add_province_modifier = {
					name = spanish_carrack_prov_modifier
					duration = -1
				}
			}
			any_state = {
				any_pop = {
					consciousness = 1.0
				}
			}
			capital = 487
			502 = { add_core = IBE }
			any_country = {
				limit = {
					is_culture_group = iberian
					ai = no
					OR = {
						in_sphere = THIS
						vassal_of = THIS
					}
					NOT = {
						tag = THIS
					}
				}
				annex_to = THIS
			}	
		}
		
	}
	
	aragon_heritage_dec = {
		potential = {
			primary_culture = spanish
			NOT = { has_country_flag = hide_all_decs_flag }
			NOT = { has_country_flag = aragon_heritage_flag }
			state_n_government = 1
			OR = {
				owns = 762
				owns = 765
				owns = 502
			}
		}
		
		allow = {
			nationalism_n_imperialism = 1
		}
		
		effect = {
			badboy = 3
			add_accepted_culture = mediterranean_italian
			set_country_flag = aragon_heritage_flag
			765 = {
				state_scope = {
					change_region_name = "Тирренские Острова (18 для SPA)"
				}
			}
			762 = {
				state_scope = {
					change_region_name = "Сицилия (24 для SPA)"
				}
			}
		}
	}
	
	return_mexico_dec = {
		potential = {
			primary_culture = spanish
			NOT = { has_country_flag = hide_all_decs_flag }
			NOT = { has_country_flag = return_mexico_flag }
			ideological_thought = 1
			any_owned_province = {
				OR = {
					is_core = CUB
					is_core = HAI
					is_core = MEX
					is_core = UCA
					is_core = CLM
					is_core = VNZ
				}
			}
		}
		
		allow = {
			total_amount_of_ships = 25
			state_n_government = 1
		}
		
		effect = {
			prestige = 5
			CUSTOM_TOOLTIP_RETURN_MEX = { }
			set_country_flag = return_mexico_flag
			set_country_flag = mexico_conquest_claim_flag
		}
	}
	reintegrate_latin_dec = {
		potential = {
			primary_culture = spanish
			NOT = { has_country_flag = hide_all_decs_flag }
			NOT = { has_country_flag = reintegrate_latin_flag }
			nationalism_n_imperialism = 1
			any_owned_province = {
				OR = {
					continent = north_america
					continent = south_america
				}
			}
		}
		
		allow = {
			revolution_n_counterrevolution = 1
		}
		
		effect = {
			CUSTOM_TOOLTIP_SPA_LATIN = { }
			set_country_flag = reintegrate_latin_flag
			add_accepted_culture = central_american
			any_owned = {
				limit = {
					OR = {
						is_core = PRG
						is_core = URU
						is_core = ARG
						is_core = CHL
						is_core = BOL
						is_core = PEU
						is_core = ECU
						is_core = VNZ
						is_core = CLM
						is_core = UCA
						is_core = HAI
						is_core = MEX
					}
				}
				add_core = THIS
			}
		}
	}
	spa_metropolian_dec = {
		potential = {
			primary_culture = spanish
			NOT = { has_country_flag = hide_all_decs_flag }
			NOT = { has_country_flag = reintegrate_latin_flag }
			nationalism_n_imperialism = 1
		}
		
		allow = {
			inorganic_chemistry = 1
		}
		
		effect = {
			plurality = 5
			CUSTOM_TOOLTIP_SPA_METRO = { }
			set_country_flag = reintegrate_latin_flag
			POR = {
				all_core = { add_core = THIS }
			}
			set_country_flag = spa_metropolian_flag
			add_country_modifier = {
				name = spa_metropolian_modifier
				duration = 5475
			}
			CUSTOM_TOOLTIP_SPA_METRO_LIFERATE = { }
			country_event = 111001
		}
	}
	restore_colonial_spa_dec = {
		potential = {
			primary_culture = spanish
			NOT = { has_country_flag = hide_all_decs_flag }
			NOT = { has_country_flag = restore_colonial_spa_flag }
			any_owned_province = {
				OR = {
					is_core = MEX
					is_core = UCA
				}
			}
		}
		
		allow = {
			nationalism_n_imperialism = 1
			steamers = 1
			money = 300000
		}
		
		effect = {
			money = -300000
			CUSTOM_TOOLTIP_RESTORE_SPA = { }
			set_country_flag = latin_american_claim_flag
			set_country_flag = restore_colonial_spa_flag
		}
	}
	establish_la_guardia_civil = {
		potential = {
			NOT = { has_country_flag = hide_all_decs_flag }
			OR = {
				tag = SPA
				tag = IBE
			}
			OR = {
				government = absolute_monarchy
				government = prussian_constitutionalism
				government = hms_government
			}
			NOT = {
				has_country_flag = guardia_civil_established
			}
		}
		allow = {
			NOT = {
				num_of_revolts = 1
			}
			OR = {
				average_militancy = 3
				average_consciousness = 4
			}
		}
		effect = {
			plurality = 1
			add_country_modifier = {
				name = la_guardia_civil
				duration = 7300
			}
			set_country_flag = guardia_civil_established
			political_reform = ref_limited_military_budget
		}
	}

	confiscations_of_mendizabal = {
		potential = {
			NOT = { has_country_flag = hide_all_decs_flag }
			OR = {
				tag = SPA
				tag = IBE
			}
			NOT = {
				has_country_flag = mendizabal_confiscated
			}
		}

		allow = {
			ideological_thought = 1
		}

		effect = {
			plurality = 1
			treasury = 25000
			prestige = 10
			relation = {
				who = PAP
				value = -50
			}
			any_pop = {
				scaled_militancy = {
					ideology = conservative
					factor = 4
				}
				dominant_issue = {
					value = pro_atheism
					factor = 0.15
				}
			}
			set_country_flag = mendizabal_confiscated
		}
	}
	citizenship_law_spa_dec = {
		potential = {
			NOT = { has_country_flag = hide_all_decs_flag }
			NOT = {
				has_country_flag = citizenship_law_spa_flag
			}
			
			primary_culture = spanish
			state_n_government = 1
		}
		
		allow = {
			nationalism_n_imperialism = 1
			biologism = 1
			owns = 521
			citizens_rights = all_voting_pops
		}
		
		effect = {
			add_accepted_culture = portuguese
			set_country_flag = citizenship_law_spa_flag
			any_state = {
				any_pop = {
					limit = {
						has_pop_culture = portuguese
					}
					consciousness = 10
					militancy = 10
				}
			}
		}
	}
	annex_portugal_dec = {
		potential = {
			NOT = { has_country_flag = hide_all_decs_flag }
			owns = 487
			primary_culture = spanish
			POR = { 
				exists = yes 
				ai = yes 
			}
			NOT = { has_country_flag = annex_portugal_flag }
		}
		
		allow = {
			nationalism_n_imperialism = 1
			romanticism = 1
		}
	
		
		effect = {
			set_country_flag = annex_portugal_flag
			war = {
				target = POR
				attacker_goal = {
					casus_belli = conquest
				}
			}
			badboy = -5
		}
		ai_will_do = {
			factor = 1
		}
	}
	spanish_education_program_dec = {
		potential = {
			NOT = { has_country_flag = hide_all_decs_flag }
			NOT = { has_country_flag = spanish_education_program_flag }
			OR = {
				primary_culture = spanish
				primary_culture = turkish
			}
			positivism = 1
		}
		
		allow = {
			functionalism = 1
			money = 200000
			slavery = no_slavery
		}
		
		effect = {
			set_country_flag = spanish_education_program_flag
			money = -200000
			add_country_modifier = {
				name = spanish_education_program_modifier
				duration = 3650
			}
			random_owned = {
				limit = {
					owner = {
						school_reforms = good_schools
					}
				}
				owner = { social_reform = compulsory_schools }
			}
			random_owned = {
				limit = {
					owner = {
						school_reforms = acceptable_schools
					}
				}
				owner = { social_reform = good_schools }
			}
			random_owned = {
				limit = {
					owner = {
						school_reforms = low_schools
					}
				}
				owner = { social_reform = acceptable_schools }
			}
		}
	}
	magrib_SPA_imigration_dec = {
		potential = {
			tag = SPA
			NOT = { 
				has_country_flag = hide_all_decs_flag
				has_country_flag = magrib_SPA_imigration_dec_flag 
				has_country_flag = reintegrate_latin_flag
			}
		}
		allow = {
			has_country_flag = spa_metropolian_flag
			owns = 1680
			owns = 1690
			owns = 1720
			nationalism_n_imperialism = 1
		}		
		effect = {
			set_country_flag = magrib_SPA_imigration_dec_flag
			set_country_flag = magrib_imigration_check_flag
			add_country_modifier = { 
				name = magrib_imigration_modifier
				duration = 1825
			}
		}
	}
}
